# Science Net User Guide
>Warning: This tool is intended for academic purposes only.
MADE BY RDUAN, FOR RESEARCH ONLY

## Program Purpose
>The purpose of this tool is to extract data from experimental videos recorded by a camera. You need to record the videos beforehand. When setting up the camera, ensure that it is perpendicular to the ground and parallel to the direction of object motion. This tool can be used for observing various experiments in kinematics.

## Prerequisites:
1. Python environment with pip tool.
2. Visual Studio Code (recommended).
3. Required libraries. Run the following code in the terminal:
```shell
pip install -r requirement.txt
```
## Please make sure the following folders exist in this project:
1. ./csv_data: Stores the positions of marked points in the videos.
2. ./csv_displacement: Contains the data after displacement.
3. ./videos: Holds the video resources.
4. ./frame: Stores captured frames.
## Contents of these folders are as follows:
1. ./csv_data: Records the positions of marked points in the videos.
2. ./csv_displacement: Contains the data after displacement.
3. ./videos: Stores the video resources.
4. ./frame: Contains the captured frames.
## Please ensure that there are two .py files in the project, to be executed in the following order:
1. imgposition.py
2. data_process.py
3. requirement.txt
## Functionality of imgposition.py:

The purpose of imgposition.py is to manually mark the positions of balls in the videos located in the "videos" folder and save them as CSV files. The operation keys are as follows:

1. Press the `n` key to switch to the next frame.
2. Press `esc` to exit the video and switch to the next one. The original data will be overwritten.
3. Press the `left mouse button` to mark a point.
4. Press the `right mouse button` to capture a screenshot.
5. Before using, please ensure that the horizontal_optima is correctly set.
The CSV files generated by imgposition.py will have the same name as the imported video files.
6. If there is a need to convert the coordinates into centimeters, place a known-length reference object on the straight line of the experimental motion. The object should be parallel to the camera and perpendicular to the ground. Record a one-second video and mark the bottom of the reference object in the first frame and the top in the second frame.

## Structure of CSV_datas
| frame    | x  | y  |
|----------|----|----|
| frame_num|coord|coord|

The CSV_data file has the following structure:
- **frame**: Represents the frame number of the video.
- **x**: Represents the x-coordinate of the marked point.
- **y**: Represents the y-coordinate of the marked point.

Each row in the CSV file corresponds to a marked point in a specific frame of the video.


## Operation of data_process.py:
The data_process.py program allows you to align all the marks made by imgposition.py to the origin and convert the distance of each point from the origin into centimeters. It is especially useful for marking projectile motion.

1. Modify the height of the reference object `object_height=____(cm)`. Please note that the unit is centimeters.
2. Modify the `ratio_switch variable`. Set it to `True` to automatically convert the units to centimeters or `False` to use the coordinates from OpenCV.
3. If there are any errors in the data, an `File {} Index out of range error occurred` will be displayed in the shell.